<!DOCTYPE html>
<html lang="mn">
  <head>
  <meta charset="utf-8">
  <meta name="generator" content="Hugo 0.121.1">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Permissions-Policy" content="interest-cohort=(), user-id=()">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Олон үйлдлийн систем нэг дискэн дээр - Ochko">
  <meta name="twitter:description" content="Анх линукс үйлдлийн систем сонирхож эхлэж байхад виндовс суулгачихсан хард дискэн дээрээ нэмж линукс суулгах гэж нилээд юм болдог байв. Нэг удаа виндовсоо ахиж суулгах хэрэг гараад, тэгсэн чинь компьютерээ дахин ачаалтал үйлдлийн систем сонгодог цэс маань гарч ирэхгүй шууд виндовс ачаалагдаж байна. Ингээд эхний гашуун туршлага : виндовс бол найзархаг үйлдлийн систем биш, бусад үйлдлийн системтэй нэг дискэн дээр байхыг хүсдэггүй юм байна. Ингээд дараа нь өөр өөр линуксуудыг нэмж суулгаж туршив, бүр FreeBSD -г нөгөөдүүлтэйгээ хамт суулгаж үзэв.">
  <meta name="twitter:site" content="https://ochko.github.io">
  <meta name="twitter:creator" content="Ochirkhuyag.L">
  <meta name="twitter:image" content="https://ochko.github.io/images/koen-stripe.jpg">

  
  <meta property="og:locale" content="">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Олон үйлдлийн систем нэг дискэн дээр - Ochko">
  <meta property="og:description" content="Анх линукс үйлдлийн систем сонирхож эхлэж байхад виндовс суулгачихсан хард дискэн дээрээ нэмж линукс суулгах гэж нилээд юм болдог байв. Нэг удаа виндовсоо ахиж суулгах хэрэг гараад, тэгсэн чинь компьютерээ дахин ачаалтал үйлдлийн систем сонгодог цэс маань гарч ирэхгүй шууд виндовс ачаалагдаж байна. Ингээд эхний гашуун туршлага : виндовс бол найзархаг үйлдлийн систем биш, бусад үйлдлийн системтэй нэг дискэн дээр байхыг хүсдэггүй юм байна. Ингээд дараа нь өөр өөр линуксуудыг нэмж суулгаж туршив, бүр FreeBSD -г нөгөөдүүлтэйгээ хамт суулгаж үзэв.">
  <meta property="og:url" content="https://ochko.github.io/tech/2007-03-10-dual-boot/">
  <meta property="og:site_name" content="Ochko">
  <meta property="og:image" content="https://ochko.github.io/images/koen-stripe.jpg">

  <meta name="author" content="Ochirkhuyag.L">
  <meta name="description" content="Анх линукс үйлдлийн систем сонирхож эхлэж байхад виндовс суулгачихсан хард дискэн дээрээ нэмж линукс суулгах гэж нилээд юм болдог байв. Нэг удаа виндовсоо ахиж суулгах хэрэг гараад, тэгсэн чинь компьютерээ дахин ачаалтал үйлдлийн систем сонгодог цэс маань гарч ирэхгүй шууд виндовс ачаалагдаж байна. Ингээд эхний гашуун туршлага : виндовс бол найзархаг үйлдлийн систем биш, бусад үйлдлийн системтэй нэг дискэн дээр байхыг хүсдэггүй юм байна. Ингээд дараа нь өөр өөр линуксуудыг нэмж суулгаж туршив, бүр FreeBSD -г нөгөөдүүлтэйгээ хамт суулгаж үзэв.">

  <title>Олон үйлдлийн систем нэг дискэн дээр :: Ochko</title>

  
  

  
  <link rel="stylesheet" href="https://ochko.github.io/main.ba77102aadc0da1e5595bb0f37d782a1cc4cc908013206d15ea55e9080a93054.css">

  <link rel="stylesheet" href="/katex/katex.min.css" media="print" onload="this.media='all';this.onload=null;">

  <link rel="stylesheet" href="/pagefind/pagefind-ui.css">
</head>


  <body class="antialiased">
    <div class="container mx-auto py-4 px-4 sm:px-6 lg:px-8 min-h-screen flex flex-col">
      
      <header class="mb-8">
        <nav class="flex space-x-4" aria-label="Tabs">
          <a href="/"><img class="inline-block h-12 w-12 rounded-full ml-2 mr-6" src="https://ochko.github.io/images/koen-stripe.jpg" alt="Ochirkhuyag.L"></a>
          
          
          <a href="https://ochko.github.io/posts/" class="text-gray-500 hover:text-gray-700 px-3 my-2 py-2 font-medium text-sm rounded-md">Personal Blog</a>
          
          <a href="https://ochko.github.io/tech/" class="bg-gray-100 text-gray-500 hover:text-gray-700 px-3 my-2 py-2 font-medium text-sm rounded-md">Tech stuff</a>
          
          
        </nav>
      </header>
      

      <div class="flex-1 pt-10">
<article class="prose max-w-none">
  <h1>Олон үйлдлийн систем нэг дискэн дээр</h1>
  <time class="text-sm text-right text-gray-600" datetime="2007-03-10 19:34:00 &#43;08">2007-03-10</time>
  <div class="pt-4">
    <p>Анх линукс үйлдлийн систем сонирхож эхлэж байхад виндовс суулгачихсан хард дискэн дээрээ нэмж линукс суулгах гэж нилээд юм болдог байв. Нэг удаа виндовсоо ахиж суулгах хэрэг гараад, тэгсэн чинь компьютерээ дахин ачаалтал үйлдлийн систем сонгодог цэс маань гарч ирэхгүй шууд виндовс ачаалагдаж байна. Ингээд эхний гашуун туршлага : виндовс бол найзархаг үйлдлийн систем биш, бусад үйлдлийн системтэй нэг дискэн дээр байхыг хүсдэггүй юм байна. Ингээд дараа нь өөр өөр линуксуудыг нэмж суулгаж туршив, бүр FreeBSD -г нөгөөдүүлтэйгээ хамт суулгаж үзэв. Ингэж олон үйлдлийн систем суулгахад дараалал чухал бөгөөд хамгийн найзархаг бусаас нь эхлэж суулгах хэрэгтэй юм байна гэдгийг ойлгов. Тухайн үед бол Windows-&gt;FreeBSD-&gt;Linux-ууд(Mandrake, RedHat, Debian, Slackware,&hellip;) байсан. Тэгэхээр хамгийн найзархаг нь Линукс болж таарч байна. Тэр үед эдгээр үйлдлийн системүүдийг бүгдийг нь хэрэглээд ч гавьсан юмгүй, суулгахаас цааш хэтрээгүй ч хатуу дискний партишнууд болоод үйлдлийн системийн ачаалагчдын талаар жаахан мэдлэгтэй болсон юм.</p>
<p>Өнөөдөр бидний хамгийн түгээмэл хэрэглэдэг <a href="http://en.wikipedia.org/wiki/IBM_PC-compatible">PC</a> нь нэг хатуу дискэн дээр 4 өөс дээшгүй primary partition байхыг зөвшөөрдөг, учир нь дискний <a href="http://en.wikipedia.org/wiki/Master_boot_record">мастер бүүт бичлэг</a> дээр 4 өөс дээш паритишн бүртгэгддэггүй. Түүнээс олон партишн үүсгэхийн тулд 4 партишнийхаа аль нэгийг өргөтгөгдсөн партишн(extended partition) болгоод, өргөтгөгдсөн партишн дотроо дуртай тооны логик партишн(logical partition) үүсгэж болно. Логик партишний мэдээлэл нь өргөтгөгдсөн партишний эхний сектороос эхэлдэг. Компьютер асаад хатуу дискний хамгийн эхэнд байрлах бүүт сектороос үйлдлийн систем ачаалах кодыг ажиллуулдаг ба энэ нь секторт(512 байт) үйлдлийн систем ачаалах код, дискний партишнуудын мэдээлэл байрлах ёстой. Ер нь стандартаараа бол мастер бүүт дээр байрлах код нь идэвхтэй партишний эхний сектор луу үйлдлийн систем ачаалах эрхийг шилжүүлдэг. Ингэж партишны эхний сектор руу үйлдлийн систем ачаалах эрхийг шилжүүлэх үйлдлийг гинжин ачаалалт(chain-loading) гэдэг. Өмнө бидний цухас дурдсан олон үйлдлийн систем суулгасан үед хэрэглэдэг үйлдлийн систем сонгох цэс нь энэ эхний сектор дээр сууж байгаад цэснээс сонгох үед харгалзах партишн руу нь үйлдлийн систем ачаалах эрхийг шилжүүлнэ. Тэр үед сонгогдсон партишн дээр мөн үйлдлийн систем сонгох програм суусан байвал дахин тэндээсээ өөр үйлдлийн систем сонгосон ч болно, зүгээр тухай партишн дээрээсээ үйлдлийн системийг ачаалсан ч болно. Ингэхээр гинжин хэлхээс шиг дүр зураг бууж байгаа биз.</p>
<p>Үйлдлийн систем болгонд ачаалагч програм байх бөгөөд эдгээр нь партишний эхний сектор дээрээс дуудагдаж, үйлдлийн системийн цөм хэсгийг эхлүүлнэ. Үйлдлийн систем ачаалагч болгонд тохиргооны файл бий.</p>
<p><a href="http://www.xs4all.nl/%7Elennartb/bootloaders/">Линуксийн</a> хувьд <a href="http://www.gnu.org/software/grub/">grub</a>, <a href="http://en.wikipedia.org/wiki/LILO_%28boot_loader%29">lilo</a> гэж үйлдлийн систем ачаалагчид түгээмэл хэрэглэгддэг. grub -ийг авч үзье. Ер нь үйлдийн систем ачаалагчыг мастер бүүт дээр аль болох суулгахгүйгээр, тухайн партишн дээр нь суулгавал зүгээр. Ингэснээр дараа нь мастер бүүт дээр өөр ачаалагч суулгахад эрх чөлөөтэй болно. Үүний тулд үйлдлийн систем ачаалагчаа хуулж авах хэрэгтэй. Хуулж аваагүй тохиолдолд, линуксаа логик партишн дээр суулгачихсан бол линукс руугаа дахин орж болохгүй л болчих болов уу. Линукс маань мастер хатуу дискний 2-р партишн дээр суусан гэж үзвэл доорх командаар ачаалагчийг хуулж авч болно.</p>
<table border="0" cellpadding="0" cellspacing="0" width="600"><tbody><tr><td bgcolor="#a0a0a0"><table border="0" cellpadding="1" cellspacing="1" width="100%"><tbody><tr><td bgcolor="#efefef"><pre>dd if=/dev/hda2 of=/mnt/usb/linux.bin bs=512 count=1</pre></td></tr></tbody></table></td></tr></tbody></table>
<p>Windows NT төрлийн үйлдлийн системийг ачаалагч нь <a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">NT Loader</a> гэж програм байдаг. Энэ програмын тохиргооны файл нь <span style="font-style: italic;">boot.ini</span> гэж файл бий. Түрүүн хуулж авсан файлаа С дискэн дээр хуулаад <span style="font-style: italic;">C:\linux.bin=&quot;Linux&quot;</span> гэсэн мөрийг boot.ini файлд нэмж өгвөл бид линукс руугаа орох боломжтой болно. Мэдээж Виндовс байгаа партишнийг идэвхтэй(active partition) гэж үзэв.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>[boot loader]
</span></span><span style="display:flex;"><span>timeout=10
</span></span><span style="display:flex;"><span>default=multi(0)disk(0)rdisk(0)partition(1)\WINDOWS
</span></span><span style="display:flex;"><span>[operating systems]
</span></span><span style="display:flex;"><span>multi(0)disk(0)rdisk(0)partition(1)\WINDOWS=&#34;Windows XP&#34; /noexecute=optin /fastdetect
</span></span><span style="display:flex;"><span>C:\linux.bin=&#34;Linux&#34;
</span></span></code></pre></div><p>Хэрэв линуксийн партишн нь идэвхтэй бол Линуксийн ачаалагч дээрээ Виндовсийг тохируулж өгнө. grub -ийн тохиргоо нь <span style="font-style: italic;">/boot/grub/menu.lst</span> файлд байна. Дараах мөрүүдийг <span style="font-style: italic;">menu.lst</span> файлд нэмж өгнө.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>title Windows XP
</span></span><span style="display:flex;"><span>root (hd0,3)
</span></span><span style="display:flex;"><span>makeactive
</span></span><span style="display:flex;"><span>chainloader +1
</span></span></code></pre></div><p>Энд нэг анхаарах зүйл бол хатуу дискний нэрлэлт юм. grub дээр хатуу дискүүд hd0(master harddisk), hd1(slave harddisk) гэх мэт нэрлэгдээд, партишнууд нь (hd0, 3) гэх мэтээр илэрхийлэгдэнэ. (hd0, 3) гэдэг нь мастер хатуу дискний 4 дэх партишнийг илэрхийлнэ. Хэрэв линуксийг мастер хатуу дискэн дээр, виндовсыг дэд(slave) хатуу дискэн дээр суулгасан бол grub дээр нилээд юм бичиж өгөх хэрэгтэй, учир нь виндовс бол мастер хатуу дискэн дээрээс л ажиллана гэсэн амбицтай үйлдлийн систем юм.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>title           Windows XP
</span></span><span style="display:flex;"><span>root            (hd1,0)
</span></span><span style="display:flex;"><span>savedefault
</span></span><span style="display:flex;"><span>makeactive
</span></span><span style="display:flex;"><span>map             (hd0) (hd1)
</span></span><span style="display:flex;"><span>map             (hd1) (hd0)
</span></span><span style="display:flex;"><span>chainloader     +1
</span></span></code></pre></div><p>Энд map гэдэг командаар виндовсыг &quot;зальдаж&quot; байна.</p>
<p><a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/boot-blocks.html">FreeBSD</a> дээр партишнийг slice -гэдэг. slice нь дотроо <a href="http://en.wikipedia.org/wiki/BSD_disklabel">label</a>-уудтай. label нь логик партишнтэй төстэй гэж ойлгож болно. FreeBSD суулгахын тулд нэг primary партишний нөөц хэрэгтэй. Хатуу дискэн дээрээ ямар ч партишнгүй хоосон зай үлдээж байгаад суулгана. Ингэхэд мастер бүүт бичлэг дээр нэг ширхэг primary партишн нэмэгдсэн байх ба тэр нь FreeBSD ийн slice юм. BSD -ийн ачаалагчыг мөн мастер бүүт дээр эсвэл өөрийнх нь slice дээр суулгаж болно. Ер нь бол slice дээр нь суулгах нь илүү уян хатан гэж зөвлөх байна.</p>
<p><span style="font-weight: bold;">Эх сурвалжууд:</span></p>
<ul>
<li><a href="http://jaeger.morpheus.net/linux/ntldr.php">How to dual-boot Windows NT/2000/XP and Linux using NTLDR</a></li>
<li><a href="http://www.geocities.com/epark/linux/grub-w2k-HOWTO.html">Dual-Boot Linux and Windows 2000/Windows XP with GRUB HOWTO</a></li>
<li><a href="http://www.linuxselfhelp.com/gnu/grub/html_chapter/grub_4.html">How to boot an OS directly with GRUB</a></li>
<li><a href="http://geodsoft.com/howto/dualboot/grub.htm">Dual and Multi Booting FreeBSD, Linux, and OpenBSD</a></li>
</ul>

  </div>
</article>

      </div>

      
<footer class="mt-12">
  
  <div class="flex flex-col md:flex-row md:justify-between -mx-2 pt-2 px-2 pb-6 border-t">
    <div class="md:mr-12 md:w-1/2">
      
      <a href="https://ochko.github.io/tech/2007-03-babylon-stardict/" class="block">
        <span class="block font-semibold text-gray-600">Previous</span>
        <span class="block">Babylon -ий толийг Stardict уруу хөрвүүлэх</span>
      </a>
      
    </div>
    <div class="md:text-right mt-4 md:mt-0">
      
      <a href="https://ochko.github.io/tech/2007-03-system-reliability/" class="block">
        <span class="block font-semibold text-gray-600">Next</span>
        <span class="block">Системийн найдвартай байдал</span>
      </a>
      
    </div>
  </div>
  
  <div class="text-xs text-center">&copy; 2006-2023 Ochirkhuyag.L</div>
</footer>

    </div>

    
    <script defer src="/katex/katex.min.js" ></script>
    <script defer src="/katex/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    
  </body>
</html>
