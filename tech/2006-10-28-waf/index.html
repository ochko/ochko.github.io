<!doctype html><html lang=mn><head><meta charset=utf-8><meta name=generator content="Hugo 0.97.3"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=twitter:card content="summary"><meta name=twitter:title content="Веб апликэшний нууцлал хамгаалалт - Ochko"><meta name=twitter:description content="Хэн ч бай, зөвхөн зөвшөөрөгдсөн үйлдлээ л хийж байх системийг нууцлал хамгааглалттай гэнэ.  —   Аливаа зүйлийн давуутай шинж чанар нь өөр нэгэн өнцгөөс харахад сул тал нь болж байдгийг хаа сайгүй олж харж болно. Тухайлбал вэб апликэшний хувьд хаанаас ч хэзээ ч хандаж ашиглаж болдог давуу тал нь, хэн дуртай нэгэнд ямар нэг гажууд хэлбэрээр хандах боломжыг олгодог. Хэрвээ өөрийн компьтер дээрээ л суулгаад өөрөө л хэрэглэдэг жирийн програмын хувьд бол гаднаас халдах халдлагаас айгаад байх зүйлгүй."><meta name=twitter:site content="https://ochko.github.io"><meta name=twitter:creator content="L.Ochirkhuyag"><meta name=twitter:image content="https://ochko.github.io/images/koen-stripe.jpg"><meta property="og:locale" content><meta property="og:type" content="article"><meta property="og:title" content="Веб апликэшний нууцлал хамгаалалт - Ochko"><meta property="og:description" content="Хэн ч бай, зөвхөн зөвшөөрөгдсөн үйлдлээ л хийж байх системийг нууцлал хамгааглалттай гэнэ.  —   Аливаа зүйлийн давуутай шинж чанар нь өөр нэгэн өнцгөөс харахад сул тал нь болж байдгийг хаа сайгүй олж харж болно. Тухайлбал вэб апликэшний хувьд хаанаас ч хэзээ ч хандаж ашиглаж болдог давуу тал нь, хэн дуртай нэгэнд ямар нэг гажууд хэлбэрээр хандах боломжыг олгодог. Хэрвээ өөрийн компьтер дээрээ л суулгаад өөрөө л хэрэглэдэг жирийн програмын хувьд бол гаднаас халдах халдлагаас айгаад байх зүйлгүй."><meta property="og:url" content="https://ochko.github.io/tech/2006-10-28-waf/"><meta property="og:site_name" content="Ochko"><meta property="og:image" content="https://ochko.github.io/images/koen-stripe.jpg"><meta name=author content="L.Ochirkhuyag"><meta name=description content="Хэн ч бай, зөвхөн зөвшөөрөгдсөн үйлдлээ л хийж байх системийг нууцлал хамгааглалттай гэнэ.  —   Аливаа зүйлийн давуутай шинж чанар нь өөр нэгэн өнцгөөс харахад сул тал нь болж байдгийг хаа сайгүй олж харж болно. Тухайлбал вэб апликэшний хувьд хаанаас ч хэзээ ч хандаж ашиглаж болдог давуу тал нь, хэн дуртай нэгэнд ямар нэг гажууд хэлбэрээр хандах боломжыг олгодог. Хэрвээ өөрийн компьтер дээрээ л суулгаад өөрөө л хэрэглэдэг жирийн програмын хувьд бол гаднаас халдах халдлагаас айгаад байх зүйлгүй."><title>Веб апликэшний нууцлал хамгаалалт :: Ochko</title><link rel=stylesheet href=https://ochko.github.io/main.ba77102aadc0da1e5595bb0f37d782a1cc4cc908013206d15ea55e9080a93054.css><link rel=stylesheet href=/katex/katex.min.css media=print onload='this.media="all",this.onload=null'></head><body class=antialiased><div class="container mx-auto py-4 px-4 sm:px-6 lg:px-8 min-h-screen flex flex-col"><header class=mb-8><nav class="flex space-x-4" aria-label=Tabs><a href=/><img class="inline-block h-12 w-12 rounded-full ml-2 mr-6" src=https://ochko.github.io/images/koen-stripe.jpg alt=L.Ochirkhuyag></a>
<a href=https://ochko.github.io/posts/ class="text-gray-500 hover:text-gray-700 px-3 my-2 py-2 font-medium text-sm rounded-md">Personal Blog</a>
<a href=https://ochko.github.io/tech/ class="bg-gray-100 text-gray-500 hover:text-gray-700 px-3 my-2 py-2 font-medium text-sm rounded-md">Tech stuff</a></nav></header><div class="flex-1 pt-10"><article class="prose max-w-none"><h1>Веб апликэшний нууцлал хамгаалалт</h1><time class="text-sm text-right text-gray-600" datetime="2006-10-28 23:11:00 +08">2006-10-28</time><div class=pt-4><div class="flex justify-between mt-2 mb-3 mr-4"><div></div><div class="max-w-sm text-sm font-serif"><div class=text-black>Хэн ч бай, зөвхөн зөвшөөрөгдсөн
үйлдлээ л хийж байх системийг
нууцлал хамгааглалттай гэнэ.</div><div class="italic text-right pt-1">—</div></div></div><p>Аливаа зүйлийн давуутай шинж чанар нь өөр нэгэн өнцгөөс харахад сул тал нь болж байдгийг хаа сайгүй олж харж болно. Тухайлбал вэб апликэшний хувьд хаанаас ч хэзээ ч хандаж ашиглаж болдог давуу тал нь, хэн дуртай нэгэнд ямар нэг гажууд хэлбэрээр хандах боломжыг олгодог. Хэрвээ өөрийн компьтер дээрээ л суулгаад өөрөө л хэрэглэдэг жирийн програмын хувьд бол гаднаас халдах халдлагаас айгаад байх зүйлгүй. Интэрнэтгүй, сүлжээгүй орчинд ч ажиллах учраас. Харин интэрнэт хэмээх задгай ертөнцөд байрлах вэб апликэшний хувьд бол нууцлал хамгаалалт гэдэг асуудал хамгаас чухалд тавигддаг. Ийм учраас эхлээд гаднах нууцлалыг хангаад дараа нь дотрох зүйлсээ хийдэг. Ингээд хүн бүхний мэдэх зүйлийг бичихээ зогсоод гол зүйлдээ орьё.</p><p>Апликэшн байгаа сервэрийнхээ орчний нууцлалыг хангалгүйгээр апликэшнээ яаж ч сайн хийгээд нэмэргүй. Сэрвэрийн хувьд ерөнхийдөө дараах зүйлсийг анхаарах хэрэгтэй.</p><h3 id=сэрвэр>Сэрвэр</h3><ul><li>Сэрвэрийн үйлдлийн системийн шинэчлэл, апдэйтийг цаг тухайд нь хийж
байх. Мөн үйлдлийн системийн чухал багц програм хангамжуудыг ч байнга
шинэчилж байх хэрэгтэй. Харгалзах мэйл листүүдэд нь бүртгүүлчих юм бол
амар байдаг.</li><li>Хэрэггүй буюу ашигладаггүй сэрвисүүдийг зогсоохь эсвэл бүр устгах.
Жишээ нь Windows дээр бол Messenger, Fax service, Net logon гэх мэт.
Юникс дээр бол apmd, lpd, sendmail, telnet, finger гэх мэт сэрвисүүд
бараг ашиглагдахгүй болов уу.</li><li>Хэрэггүй үйлдлийн систэмийн хэрэглэгч нэрсийг устгах. Тухайлбал
windows дээр guest хэрэглэгчийг идэвхгүй болгох. Мөн хэрэглэчдийн нууц
үгийг тогтмол хугацаанд солиж байхаар тохируулах, хамгийн багадаа 8 ч
юмуу тэмдэгт байхаар зааж өгөх.</li><li>Файл болон директоруудад хандах эрхийг(<a href=http://en.wikipedia.org/wiki/File_permission>file permission</a>) нарийн
чанд тавьж өгөх. Системийн файлууд, директоруудыг сайтар нууцлаж
хамгаалах хэрэгтэй.</li><li>Логуудыг сайтар төлөвлөж тохируулах. Лог файлын үүсэх байрлал, хэд
хоноод хуучин логууд устгагдах гэх мэт. Мөн лог дээр бичигдэх байгаа
үзэгдлүүдийг автоматаар шинжилж, хэвийн бус зүйл илэрвэл мэйлээр ч
юмуу мэдэгддэг байвал тун сайн.</li><li>Сүлжээний тохиргоонд <a href=http://en.wikipedia.org/wiki/Tcp/ip>TCP/IP</a> түвшинд боломжын хирээр шүүлтүүр
тавьж өгөх. Хэрэггүй портуудыг хаах, <a href=http://en.wikipedia.org/wiki/Iptables>iptables </a>дээр сэжигтэй
пакетуудыг оруулахгүй байх гэх мэтээр тохируулж болдог.</li></ul><h3 id=апликэшн-сэрвэр>Апликэшн сэрвэр</h3><ul><li>Апликэшн сэрвэр буюу вэб сэрвэрээ байнга шинэчилж засвар эмчилгээг цаг
тухайд нь хийж явах.</li><li>Апликэшн сэрвэрийг ажиллуулах хэрэглэгчийн нэрийг логин хийж
чадахааргүй байлгах. мөн маш хязгаарлагдмал эрхтэйгээр тохируулж өгөх.
Тухайлбал вэб апликэшний директориос бусад дирэктор луу хандах эрхгүй
байлгаж болно.</li><li>Хэрэглэгдэхгүй нэмэлт боломжуудыг идэвхгүй болгох. Тухайлбал CGI
програм ажиллуулахыг зогсоох, мөн <a href=http://en.wikipedia.org/wiki/HTTP>HTTP </a>ийн PUT, TRACE, DELETE
зэрэг мэтодуудыг идэвхгүй болгох гэх мэт.</li><li>Вэб сэрвэрийн нэр болон хувилбарын дугаар, алдааны мэдээлэл зэргийг
нуух. Ингэснээр гаднаас халдагчид сэрвэрийн програм хангамж болон
бусад мэдээлэл дээр тулгуурлан онгорхой цоорхойг хайхаас сэргийлнэ.</li></ul><h3 id=хөгжүүлэлт>Хөгжүүлэлт</h3><p>Ингээд ерөнхийдөө сэрвэр болон бусад програм хангамжуудын тохиргоог боломжын хэмжээнд хамгаалж чадсан гэж үзвэл бид апликэшнээ хийхдээ анхан шатанд юуг анхаарвал зохихыг авч үзье.</p><p>Програмд гаднаас орж ирэх өгөгдлийг зөв байгаа эсэхийг шалгах хэрэгтэй.</p><ul><li><span style=font-weight:700><a href=http://en.wikipedia.org/wiki/Sql_injection>SQL Injection</a>.</span> Энэ нь
ерөнхийдөө махан дотор эм хийгээд нохойд өгөх гэдэг Шурикийн аргатай
адил. Хэрэглэгчийн оруулсан өгөгдлийг шалгалгүйгээр шууд <a href=http://en.wikipedia.org/wiki/Sql>SQL
</a>команд дотор оруулж хэрэглэх юм бол махыг эмтэй нь идчихлээ гэсэн
үг. Эмийг махнаас ялгахын тулд хэрэглэгчийн оруулсан өгөгдөл дотор SQL
байна уу үгүй юу шалгаж үзэх хэрэгтэй. Эсвэл prepared statement ийг
хэрэглэнэ.</li><li><span style=font-weight:700><a href=http://www.owasp.org/index.php/OS_Command_Injection>OS Command Injection</a>.
</span>Дээрхтэй төстэй, гэхдээ энэ тохиолдолд хэрэглэгчийн оруулсан
өгөгдлийг тэр чигээр нь үйлдлийн системийн комманд дотор хэрэглэх
тохиолдол юм. Тухайлбал хэрэглэгч оруулж байгаа өгөгдөл дотроо эвийг
нь олоод "rm -rf /" гээд оруулчих юм бол нилээд том асуудал үүснэ.
Иймд хэрэглэгчээс орж ирж байгаа өгөгдлийг үйлдлийн системийн команд
дотор ашиглах бол сайн шалгах хэрэгтэй.</li><li><span style=font-weight:700>Directory traversal.</span>
Хэрэглэгчээс орж ирэх өгөгдлийг файлын нэр болгож хэрэглэх үед
системийн чухал мэдээлэл агуулсан файл руу хандах аюул гарч болзошгүй.
Жишээ нь ../../../../../etc/<a href=http://en.wikipedia.org/wiki/Passwd>passwd </a>гэж оруулж болно гэдгийг
тооцоолох хэрэгтэй. Энэ тохиолдолд вэб сэрвэрийг зөв тохируулаагүй
байх юм бол хорон санаатан чухал мэдээлэлд халдах болно. Иймд гаднаас
орж ирж байгаа файл болон директорын нэрэн дотор ../ гэх мэт сэжигтэй
зүйлс байх вий шалгаарай.</li><li><span style=font-weight:700>Параметр </span>болон <span style=font-weight:700>hidden field</span> дээр хуурамч утга тавиж
ашиглах. Үүнийг хаахын тулд <a href=http://en.wikipedia.org/wiki/Html_form>html формоор</a> орж ирж байгаа field үүд
болон, URL ээр дамжиж ирж байгаа параметрүүдийн авах утгын хязгаар
болоод, өгөгдлийн төрөл, форматыг шалгаж байхаас гадна. Програмын
логик урсгалтай нийцэж байгаа эсэхийг ч чанд шалгах нь зүйтэй.</li><li><span style=font-weight:700><a href=http://en.wikipedia.org/wiki/XSS>Cross Site
Scripting(XSS)</a>.</span> Хэрэглэгчийн оруулсан өгөгдөл дотор
<a href=http://en.wikipedia.org/wiki/Javascript>Javascript </a>явж байвал xss гэж үзнэ. Хэрэглэгчийн оруулсан
өгөгдөл доторх <a href=http://en.wikipedia.org/wiki/Html>HTML </a>элэмэнтүүдийг <a href=http://en.wikipedia.org/wiki/Character_encodings_in_HTML>энкодлож </a>гаргах юм бол
<a href=http://en.wikipedia.org/wiki/Javascript>Javascript </a>ажиллахгүйгээр дэлгэц дээр харагдах юм. Гэхдээ зарим
тохиолдолд хэрэглэгчдийг html өгөгдөл оруулахыг зөвшөөрөх тохиолдол
гарна. Үүнийг зогсоохын тулд оролт дотор &lt;script> -гэсэн маягийн
зүйл байгаа эсэхийг шалгаж болно.</li><li><a href=http://en.wikipedia.org/wiki/Packet_sniffer><span style=font-weight:700>Шиншлэх</span>. </a>Энгийн HTTP ээр
дамжиж байгаа өгөгдөл нь сүлжээгээр техт хэлбэрээрээ явах тул ямар нэг
сүлжээний шиншлэх багажаар(<a href=http://en.wikipedia.org/wiki/Sniffer>sniffer</a>) ямар өгөгдлүүд явж байгааг
мэдчихэж болдог. Ийм учраас хэрэглэгчийн нэр, нууц үг гэх мэт
мэдээллийг энкрифтлэгдсэн хэлбэрээр дамжуулах хэрэгтэй. Тухайлбал
логин хийдэг хуудсыг <a href=http://en.wikipedia.org/wiki/Ssl>SSL</a>(Secure Socket Layer) -ээр дамжихаар
хийх хэрэгтэй. Мөн session timeout-ийг багасгах зэргээр sessionid-ийг
хулгайлах, ашиглахаас сэргийлж болох юм. Энэ арга нь sessionid-ийг
хулгайлагдах болон таагдахаас бүрэн хамгаалж чадахгүй ч учрах хохирлыг
тодорхой хэмжээнд багасгах юм.</li><li><span style=font-weight:700>Cross Site Request
Forgeries</span>(<a href=http://en.wikipedia.org/wiki/CSRF>CSRF</a>). Энэ нь зөвшөөрөлтэй хэрэглэгчийн
үүсгэсэн <a href=http://en.wikipedia.org/wiki/HTTP_sessions:_Client_vs_Server_side>session</a>-ийг ашиглан тухайн хэрэглэгчийн хүсээгүй
зүйлийг өөрт нь мэдэгдэхгүйгээр хийх арга юм. Энэ халдлагаас
сэргийлэхийн тулд хэрэглэгчийн үйлдлийг зөвхөн sessionid-д нь итгэж
биелүүлэх биш форм дотор нэмэлт талбар оруулж түүнийгээ sessionid-тай
хавсаргаж хэрэглэж болно. Эсвэл ямар нэг үйлдэл хийхийн өмнө заавал
хэрэглэгчээс лавлагаа зөвшөөрөл авч байж гүйцэтгэдэг байх.</li></ul><h3 id=багаж>Багаж</h3><p>Вэб апликэшн хөгжүүлэлтийн үед нууцлалын тал дээр анхаарах зүйлс дээр дурдсан хэдээр тогтохгүй. Нууцлал хамгаалалтыг хангана гэдэг нь чанарыг сайжруулж байна гэсэн үг бөгөөд хэдий чанартай хийнэв төдий чинээ хөлс хүч, цаг хугацаа зарцуулагдана. Хөлс хүч, цаг хугацааг бага байлгаад өндөр чанартай хийнэ гэдэг хэцүү ч, сайн багаж хэрэгсэл, багцуудыг ашигласнаар нууцлалыг боломжын хэмжээнд байлгаж болно. Тухайлбал олны танил болсон <a href=http://struts.apache.org/>Struts </a>хэмээх <a href=http://en.wikipedia.org/wiki/Model-view-controller>MVC </a>фрэймворкын Validator нь гаднаас орж ирэх өгөгдлийг дажгүй сайн шүүдэг. Вэб аппликэшнээ хэвээр орхиод Web Application Firewall(<a href=http://www.cgisecurity.com/questions/webappfirewall.shtml>WAF</a>) -оор гаднаас орж ирэх халдлагыг хаах бас боломжтой. Жишээ нь Apache вэб сэрвэрт зориулагдсан ModSecurity гэдэг нээлттэй эх бүхий WAF байдаг. Гэхдээ энэ тохиолдолд тухайн WAF-ийг суурилуулах, хэрэглэж тохируулж сурахаас авахуулаад нэмэлт ажлууд гарна. Эдгээр ажлууд нь вэб аппликэшн дээрээ засвар оруулахаас хямд байвал хэрэглэх нь зүйтэй.</p><p>Ингээд вэб апликэшн маань нууцлал хамгаалалтыг тодорхой түвшинд хангасан эсэхийг шалгахын тулд Вэб апликэшний нууцлалыг шалгагч(<a href=http://www.cgisecurity.com/questions/webappscanner.shtml>Web Application Security Scanner</a>) багажаар шалгаж үзэх хэрэгтэй. Ийм төрлийн багажууд нь хэдэн мянган зүйлтэй шалгах листтэй байх бөгөөд түүгээрээ апликэшнийг чинь бөмбөгдөж өгнө. Ингээд ямар шалгууруудыг давахгүй байгааг илрүүлэх юм. Сайн багаж бол ямар шалгуурыг даваагүй болох, тухайн дайралт нь хир ноцтойгоор ашиглагдаж болох, яаж засаж залруулах мэдээллийг агуулсан байдаг.</p><p>Холбоосууд:</p><ul><li><a href=http://www.webappsec.org/>Web Application Security Consortium</a>. Вэб
апликэшний нууцлал хамгаалалтын стандартыг тогтоох зорилготой. Техник
технологийн мэдээлэл, гарын авлага, заавар, өгүүлэл зэрэг материалууд
бий.</span></li><li><a href=http://www.owasp.org/index.php/Main_Page>Open Web Application Security Project</a>. Апликэшний нууцлал
хамгаалалтын доголдлуудыг олж тэдгээрийг устгах зорилготой. Энэ сайт
дээр байгаа бүр зүйл нээлттэй эх бүхий үнэгүй.</li><li><a href=http://www.modsecurity.org/>ModSecurity -Нээлттэй эх бүхий вэб апликэшн файрвол</a>.</li><li><a href=http://www.cirt.net/code/nikto.shtml>Nikto</a>. Нээлттэй эх бүхий вэб апликэшний нууцлал шалгагч багаж.</li></ul></div></article></div><footer class=mt-12><div class="flex flex-col md:flex-row md:justify-between -mx-2 pt-2 px-2 pb-6 border-t"><div class="md:mr-12 md:w-1/2"><a href=https://ochko.github.io/tech/2006-11-modile-app/ class=block><span class="block font-semibold text-gray-600">Previous</span>
<span class=block>Гар утасны програм хангамж</span></a></div><div class="md:text-right mt-4 md:mt-0"><a href=https://ochko.github.io/tech/2006-10-summit/ class=block><span class="block font-semibold text-gray-600">Next</span>
<span class=block>Оргил өөд</span></a></div></div><div class="text-xs text-center">&copy; 2006-2022 L.Ochirkhuyag</div></footer></div><script defer src=/katex/katex.min.js></script>
<script defer src=/katex/auto-render.min.js onload=renderMathInElement(document.body)></script></body></html>